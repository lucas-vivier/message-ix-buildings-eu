---
output: reprex::reprex_document
knit: reprex::reprex_render
---

Notebook to run STURM Ouput.

```{r}
library(tidyverse)
library(dplyr)
library(ggplot2)
library(stringr)

print(paste("Working directory is:", getwd()))

# Loding figures setttings and functions
source("STURM_output/C00_plots.R")

dir <- "test"
file <- paste("STURM_output", "figures", dir, "results.csv", sep = "/")
data <- read.csv(file,  check.names = FALSE, stringsAsFactors = FALSE, header = TRUE, row.names = NULL)
data <- data[, -1]

```


#### Scenarios

```{r}
scenario <- paste("STURM_data", "all_scenarios.csv", sep = "/")
# no row number
scenario <- read.csv(scenario, check.names = FALSE, stringsAsFactors = FALSE, header = TRUE, row.names = NULL)

data <- data %>%
    pivot_longer(cols=-variable, names_to = "scenario_name", values_to = "value") %>%
    pivot_wider(names_from = variable, values_from = value)

scenario <- scenario %>%
    left_join(data, by = "scenario_name")

write.csv(scenario, paste("STURM_output", "figures", dir, "test.csv", sep = "/"), row.names = FALSE)

````

```{r}

```

```{r}



```

```{r}
# histograms
manual_sobol_analysis
horizontal_bar_plot
```